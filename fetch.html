<!DOCTYPE html>
<html>
<head>
  <head>
    <!-- for-mobile-apps -->
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="theme-color" content="#25274d">
    <meta name="description" content="A Train seat reservation system ">
    <meta name="author" content="James Muriitih">
    <meta name="keywords" content="bus,bus seats,">
    <meta property="og:site_name" content="google.com">
    <meta property="og:title" content="Bus Seat Reservation System" />
    <meta property="og:description" content="A Train seat reservation system" />
    <meta property="og:image:url" itemprop="image" content="A bus seat reservation system made by James">
    <meta property="og:image" content="https://james-muriithi.github.io/bus/images/logo-400.png" />
    <meta property="og:image:url" content="https://james-muriithi.github.io/bus/images/logo-400.png" />
    <meta property="og:image:secure_url" content="https://james-muriithi.github.io/bus/images/logo-400.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="400" />
    <meta property="og:image:height" content="400" />
    <meta property="og:locale" content="en_GB" />
    <meta property="og:type" content="website" />
    <meta name="application-name" content="My Bus" />
    <meta name="apple-mobile-web-app-title" content="My Bus" />
    <meta name="msapplication-TileColor" content="#2b5797" />

    <!-- //for-mobile-apps -->
    <title>Make My Journey</title>
    <!-- icons -->
    <link rel="icon" type="image/png" href="../lohot.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="../lohot.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="../lohot.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="../lohot.png" sizes="64x64" />
    <link rel="icon" type="image/png" href="../lohot.png" sizes="128x128" />
    <link rel="apple-touch-icon" sizes="120x120" href="../lohot.png" />
    <link rel="mask-icon" href="images/safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="manifest" href="site.webmanifest">
    <!-- end of icons  -->
    <!-- css -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrapValidator.css">
    <link rel="stylesheet" type="text/css" href="css/nice-select.css">
    <link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.seat-charts.css">
    <link rel="stylesheet" type="text/css" href="fonts/font-awesome/css/font-awesome.min.css">
    <link href="fonts/material-design-icons/material-icon.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="plugins/material-datetimepicker/bootstrap-material-datetimepicker.css" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/material.min.css">
    <link rel="stylesheet" type="text/css" href="plugins/lobibox/css/lobibox.min.css">
    <link rel="stylesheet" type="text/css" href="css/simplelightbox.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
      <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/material.min.css">
    <link rel="stylesheet" type="text/css" href="plugins/lobibox/css/lobibox.min.css">
    <link rel="stylesheet" type="text/css" href="css/simplelightbox.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"> </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src=
 "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">
    </script>
    <script src=
"https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js">
    </script>

  <title> </title>
</head>
<style type="text/css">
  body {
  background-color: #ffffff;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='0' x2='0' y1='0' y2='100%25' gradientTransform='rotate(240)'%3E%3Cstop offset='0' stop-color='%23ffffff'/%3E%3Cstop offset='1' stop-color='%234FE'/%3E%3C/linearGradient%3E%3Cpattern patternUnits='userSpaceOnUse' id='b' width='540' height='450' x='0' y='0' viewBox='0 0 1080 900'%3E%3Cg fill-opacity='0.1'%3E%3Cpolygon fill='%23444' points='90 150 0 300 180 300'/%3E%3Cpolygon points='90 150 180 0 0 0'/%3E%3Cpolygon fill='%23AAA' points='270 150 360 0 180 0'/%3E%3Cpolygon fill='%23DDD' points='450 150 360 300 540 300'/%3E%3Cpolygon fill='%23999' points='450 150 540 0 360 0'/%3E%3Cpolygon points='630 150 540 300 720 300'/%3E%3Cpolygon fill='%23DDD' points='630 150 720 0 540 0'/%3E%3Cpolygon fill='%23444' points='810 150 720 300 900 300'/%3E%3Cpolygon fill='%23FFF' points='810 150 900 0 720 0'/%3E%3Cpolygon fill='%23DDD' points='990 150 900 300 1080 300'/%3E%3Cpolygon fill='%23444' points='990 150 1080 0 900 0'/%3E%3Cpolygon fill='%23DDD' points='90 450 0 600 180 600'/%3E%3Cpolygon points='90 450 180 300 0 300'/%3E%3Cpolygon fill='%23666' points='270 450 180 600 360 600'/%3E%3Cpolygon fill='%23AAA' points='270 450 360 300 180 300'/%3E%3Cpolygon fill='%23DDD' points='450 450 360 600 540 600'/%3E%3Cpolygon fill='%23999' points='450 450 540 300 360 300'/%3E%3Cpolygon fill='%23999' points='630 450 540 600 720 600'/%3E%3Cpolygon fill='%23FFF' points='630 450 720 300 540 300'/%3E%3Cpolygon points='810 450 720 600 900 600'/%3E%3Cpolygon fill='%23DDD' points='810 450 900 300 720 300'/%3E%3Cpolygon fill='%23AAA' points='990 450 900 600 1080 600'/%3E%3Cpolygon fill='%23444' points='990 450 1080 300 900 300'/%3E%3Cpolygon fill='%23222' points='90 750 0 900 180 900'/%3E%3Cpolygon points='270 750 180 900 360 900'/%3E%3Cpolygon fill='%23DDD' points='270 750 360 600 180 600'/%3E%3Cpolygon points='450 750 540 600 360 600'/%3E%3Cpolygon points='630 750 540 900 720 900'/%3E%3Cpolygon fill='%23444' points='630 750 720 600 540 600'/%3E%3Cpolygon fill='%23AAA' points='810 750 720 900 900 900'/%3E%3Cpolygon fill='%23666' points='810 750 900 600 720 600'/%3E%3Cpolygon fill='%23999' points='990 750 900 900 1080 900'/%3E%3Cpolygon fill='%23999' points='180 0 90 150 270 150'/%3E%3Cpolygon fill='%23444' points='360 0 270 150 450 150'/%3E%3Cpolygon fill='%23FFF' points='540 0 450 150 630 150'/%3E%3Cpolygon points='900 0 810 150 990 150'/%3E%3Cpolygon fill='%23222' points='0 300 -90 450 90 450'/%3E%3Cpolygon fill='%23FFF' points='0 300 90 150 -90 150'/%3E%3Cpolygon fill='%23FFF' points='180 300 90 450 270 450'/%3E%3Cpolygon fill='%23666' points='180 300 270 150 90 150'/%3E%3Cpolygon fill='%23222' points='360 300 270 450 450 450'/%3E%3Cpolygon fill='%23FFF' points='360 300 450 150 270 150'/%3E%3Cpolygon fill='%23444' points='540 300 450 450 630 450'/%3E%3Cpolygon fill='%23222' points='540 300 630 150 450 150'/%3E%3Cpolygon fill='%23AAA' points='720 300 630 450 810 450'/%3E%3Cpolygon fill='%23666' points='720 300 810 150 630 150'/%3E%3Cpolygon fill='%23FFF' points='900 300 810 450 990 450'/%3E%3Cpolygon fill='%23999' points='900 300 990 150 810 150'/%3E%3Cpolygon points='0 600 -90 750 90 750'/%3E%3Cpolygon fill='%23666' points='0 600 90 450 -90 450'/%3E%3Cpolygon fill='%23AAA' points='180 600 90 750 270 750'/%3E%3Cpolygon fill='%23444' points='180 600 270 450 90 450'/%3E%3Cpolygon fill='%23444' points='360 600 270 750 450 750'/%3E%3Cpolygon fill='%23999' points='360 600 450 450 270 450'/%3E%3Cpolygon fill='%23666' points='540 600 630 450 450 450'/%3E%3Cpolygon fill='%23222' points='720 600 630 750 810 750'/%3E%3Cpolygon fill='%23FFF' points='900 600 810 750 990 750'/%3E%3Cpolygon fill='%23222' points='900 600 990 450 810 450'/%3E%3Cpolygon fill='%23DDD' points='0 900 90 750 -90 750'/%3E%3Cpolygon fill='%23444' points='180 900 270 750 90 750'/%3E%3Cpolygon fill='%23FFF' points='360 900 450 750 270 750'/%3E%3Cpolygon fill='%23AAA' points='540 900 630 750 450 750'/%3E%3Cpolygon fill='%23FFF' points='720 900 810 750 630 750'/%3E%3Cpolygon fill='%23222' points='900 900 990 750 810 750'/%3E%3Cpolygon fill='%23222' points='1080 300 990 450 1170 450'/%3E%3Cpolygon fill='%23FFF' points='1080 300 1170 150 990 150'/%3E%3Cpolygon points='1080 600 990 750 1170 750'/%3E%3Cpolygon fill='%23666' points='1080 600 1170 450 990 450'/%3E%3Cpolygon fill='%23DDD' points='1080 900 1170 750 990 750'/%3E%3C/g%3E%3C/pattern%3E%3C/defs%3E%3Crect x='0' y='0' fill='url(%23a)' width='100%25' height='100%25'/%3E%3Crect x='0' y='0' fill='url(%23b)' width='100%25' height='100%25'/%3E%3C/svg%3E");
background-attachment: fixed;
background-size: cover;
}

</style>
<body >

   <nav class="navbar navbar-expand-lg navbar-dark static-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                 <h1>
                    <!-- <img src="images/p1.png" alt="logo" width="120" height="55" style="margin-top: -10px"> -->
                    <span>J</span>
                    <span>O</span>
                    <span>U</span>
                       <span>R</span>
                         <span>N</span>
                            <span>E</span>   
                            <span>Y</span>
                 
                </h1>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <!-- <li class="nav-item active">
                        <a class="nav-link" href="#">Reprint
                            <span class="sr-only">(current)</span>
                        </a>
                    </li> -->
                    <li class="nav-item">
                        <a href="index.html"><button class="btn btn-outline-warning my-2 my-sm-0 ml-3" type="submit">Login</button></a>
                    </li>
                    <li class="nav-item">
                        <a href="index.html"> <button class="btn btn-outline-warning my-2 my-sm-0 ml-2" type="submit">Sign Up</button></a>
                    </li>
                    <!-- <li class="nav-item">
              <a class="nav-link" href="#">Contact</a>
            </li> -->
                </ul>
            </div>
        </div>
    </nav>
   
 <main class="col-md-12">
        <div class="col-md-11 col-lg-9 col-xl-8 mx-auto window">
       <section class="stepper">
             <ul id="progressbar" style="padding-inline-start:8px;">
                                  <img  src="../lohot.png" alt="logo" width="100" height="100" style="margin-top: -10px">

                <a href="firstpage.html"> <li >Passenger Details</li> </a>
                <a href="Hotel/index.html" target="_blank"> <li> Reserve Hotel &nbsp; &nbsp; &nbsp;</li> </a>                    
                <a href="food.html" target="_blank"> <li>  Order Food &nbsp; &nbsp; &nbsp;</li> </a>
                <a href="Cab/index.html" target="_blank" > <li> Book Cab</li> </a>
                <a href="fetch.html"> <li class="active"> Booking </li> </a>
                </ul>
            </section> 
        </div>
    </main>
    <br>
    <br>  <br>
    <br>  <br>
    

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>
<body>
  <style type="text/css">
    table {
  border-collapse: collapse;
  width: 100%;
  font-family: Arial, sans-serif;
  color: #333;
  background-color: #fff;
  margin: 20px 0;
  box-shadow: 0px 0px 10px #ccc;
}

th,
td {
  padding: 12px;
  text-align: left;
  border: 1px solid #ddd;
}

th {
  background-color: #007bff;
  color: #fff;
}

tr:nth-child(even) {
  background-color: #f2f2f2;
}

tr:hover {
  background-color: #e5e5e5;
}

@media only screen and (max-width: 600px) {
  table,
  tbody,
  th,
  td,
  tr {
    display: block;
  }

  th {
    text-align: center;
    background-color: #fff;
    color: #333;
  }

  td {
    text-align: center;
    border: none;
    position: relative;
    padding-left: 50%;
  }

  td:before {
    position: absolute;
    left: 6px;
    content: attr(data-label);
    text-align: left;
    font-weight: bold;
  }
}

  </style>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-database.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<h5 style="text-align:center;font-weight: bold; color: #EFEFEF ;font-style: oblique;">  USER DETAILS</h5>
<table id="UserDetails">
  <thead>
    <tr>
      <th>Name</th>
      <th>Mail</th>
       <th>Adhar</th>
      <th>Phone</th>
        <th>Passengers</th>
          <th>Price</th>
      <th>Source</th>
        <th>Destination</th>
         <th>Timing</th>


    </tr>
  
  </thead>
  <tbody>
  </tbody>
</table> 
<h5 style="text-align:center;font-weight: bold; color: #000080;font-style: oblique;">  HOTEL DETAILS </h5><table id="HotelDetails">
  <thead>
    <tr>
      <th>Checkin Date</th>
      <th>Checkout Date</th>
       <th>Hotel Subscription</th>

    </tr>
  
  </thead>
  <tbody>
  </tbody>
</table> 

<h5 style="text-align:center;font-weight: bold; color: #EFEFEF;font-style: oblique;">  
 CAB DETAILS</h5>

<table id="CabDetails">
  <thead>
    <tr>
      <th>Vehicle Type</th>
      <th>Vehicle </th>
      


    </tr>
  
  </thead>
  <tbody>
  </tbody>
</table> 



<label for="rowIndex">Enter Row Index</label>
<input type="number" id="rowIndex">
<!-- <button id="myBtn" class="btn btn-success" onclick="fetchData()">Get ticket</button> -->
<br><br>
<center>  <div onclick="fetchData()" id="container"></div>
<script async src="https://pay.google.com/gp/p/js/pay.js"
onload="onGooglePayLoaded()"></script>
</center>
<p id="output"></p>


<script type="text/javascript">
  /**
 * Define the version of the Google Pay API referenced when creating your
 * configuration
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/request-objects#PaymentDataRequest|apiVersion in PaymentDataRequest}
 */
const baseRequest = {
  apiVersion: 2,
  apiVersionMinor: 0
};

/**
 * Card networks supported by your site and your gateway
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/request-objects#CardParameters|CardParameters}
 * @todo confirm card networks supported by your site and gateway
 */
const allowedCardNetworks = ["AMEX", "DISCOVER", "INTERAC", "JCB", "MASTERCARD", "VISA"];

/**
 * Card authentication methods supported by your site and your gateway
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/request-objects#CardParameters|CardParameters}
 * @todo confirm your processor supports Android device tokens for your
 * supported card networks
 */
const allowedCardAuthMethods = ["PAN_ONLY", "CRYPTOGRAM_3DS"];

/**
 * Identify your gateway and your site's gateway merchant identifier
 *
 * The Google Pay API response will return an encrypted payment method capable
 * of being charged by a supported gateway after payer authorization
 *
 * @todo check with your gateway on the parameters to pass
 * @see {@link https://developers.google.com/pay/api/web/reference/request-objects#gateway|PaymentMethodTokenizationSpecification}
 */
const tokenizationSpecification = {
  type: 'PAYMENT_GATEWAY',
  parameters: {
    'gateway': 'example',
    'gatewayMerchantId': 'exampleGatewayMerchantId'
  }
};

/**
 * Describe your site's support for the CARD payment method and its required
 * fields
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/request-objects#CardParameters|CardParameters}
 */
const baseCardPaymentMethod = {
  type: 'CARD',
  parameters: {
    allowedAuthMethods: allowedCardAuthMethods,
    allowedCardNetworks: allowedCardNetworks
  }
};

/**
 * Describe your site's support for the CARD payment method including optional
 * fields
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/request-objects#CardParameters|CardParameters}
 */
const cardPaymentMethod = Object.assign(
  {},
  baseCardPaymentMethod,
  {
    tokenizationSpecification: tokenizationSpecification
  }
);

/**
 * An initialized google.payments.api.PaymentsClient object or null if not yet set
 *
 * @see {@link getGooglePaymentsClient}
 */
let paymentsClient = null;

/**
 * Configure your site's support for payment methods supported by the Google Pay
 * API.
 *
 * Each member of allowedPaymentMethods should contain only the required fields,
 * allowing reuse of this base request when determining a viewer's ability
 * to pay and later requesting a supported payment method
 *
 * @returns {object} Google Pay API version, payment methods supported by the site
 */
function getGoogleIsReadyToPayRequest() {
  return Object.assign(
      {},
      baseRequest,
      {
        allowedPaymentMethods: [baseCardPaymentMethod]
      }
  );
}

/**
 * Configure support for the Google Pay API
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/request-objects#PaymentDataRequest|PaymentDataRequest}
 * @returns {object} PaymentDataRequest fields
 */
function getGooglePaymentDataRequest() {
  const paymentDataRequest = Object.assign({}, baseRequest);
  paymentDataRequest.allowedPaymentMethods = [cardPaymentMethod];
  paymentDataRequest.transactionInfo = getGoogleTransactionInfo();
  paymentDataRequest.merchantInfo = {
    // @todo a merchant ID is available for a production environment after approval by Google
    // See {@link https://developers.google.com/pay/api/web/guides/test-and-deploy/integration-checklist|Integration checklist}
    // merchantId: '01234567890123456789',
    merchantName: 'Example Merchant'
  };

  paymentDataRequest.callbackIntents = ["PAYMENT_AUTHORIZATION"];

  return paymentDataRequest;
}

/**
 * Return an active PaymentsClient or initialize
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/client#PaymentsClient|PaymentsClient constructor}
 * @returns {google.payments.api.PaymentsClient} Google Pay API client
 */
function getGooglePaymentsClient() {
  if ( paymentsClient === null ) {
    paymentsClient = new google.payments.api.PaymentsClient({
        environment: 'TEST',
      paymentDataCallbacks: {
        onPaymentAuthorized: onPaymentAuthorized
      }
    });
  }
  return paymentsClient;
}

/**
 * Handles authorize payments callback intents.
 *
 * @param {object} paymentData response from Google Pay API after a payer approves payment through user gesture.
 * @see {@link https://developers.google.com/pay/api/web/reference/response-objects#PaymentData object reference}
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/response-objects#PaymentAuthorizationResult}
 * @returns Promise<{object}> Promise of PaymentAuthorizationResult object to acknowledge the payment authorization status.
 */
function onPaymentAuthorized(paymentData) {
  return new Promise(function(resolve, reject){
    // handle the response
    processPayment(paymentData)
      .then(function() {
        resolve({transactionState: 'SUCCESS'});
      })
      .catch(function() {
        resolve({
          transactionState: 'ERROR',
          error: {
            intent: 'PAYMENT_AUTHORIZATION',
            message: 'Insufficient funds, try again. Next attempt should work.',
            reason: 'PAYMENT_DATA_INVALID'
          }
        });
      });
  });
}

/**
 * Initialize Google PaymentsClient after Google-hosted JavaScript has loaded
 *
 * Display a Google Pay payment button after confirmation of the viewer's
 * ability to pay.
 */
function onGooglePayLoaded() {
  const paymentsClient = getGooglePaymentsClient();
  paymentsClient.isReadyToPay(getGoogleIsReadyToPayRequest())
    .then(function(response) {
      if (response.result) {
        addGooglePayButton();
      }
    })
    .catch(function(err) {
      // show error in developer console for debugging
      console.error(err);
    });
}

/**
 * Add a Google Pay purchase button alongside an existing checkout button
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/request-objects#ButtonOptions|Button options}
 * @see {@link https://developers.google.com/pay/api/web/guides/brand-guidelines|Google Pay brand guidelines}
 */
function addGooglePayButton() {
  const paymentsClient = getGooglePaymentsClient();
  const button =
      paymentsClient.createButton({onClick: onGooglePaymentButtonClicked});
  document.getElementById('container').appendChild(button);
}

/**
 * Provide Google Pay API with a payment amount, currency, and amount status
 *
 * @see {@link https://developers.google.com/pay/api/web/reference/request-objects#TransactionInfo|TransactionInfo}
 * @returns {object} transaction info, suitable for use as transactionInfo property of PaymentDataRequest
 */
function getGoogleTransactionInfo() {
  return {
        displayItems: [
        {
          label: "Subtotal",
          type: "SUBTOTAL",
          price: "11.00",
        },
      {
          label: "Tax",
          type: "TAX",
          price: "1.00",
        }
    ],
    countryCode: 'US',
    currencyCode: "USD",
    totalPriceStatus: "FINAL",
    totalPrice: "12.00",
    totalPriceLabel: "Total"
  };
}


/**
 * Show Google Pay payment sheet when Google Pay payment button is clicked
 */
function onGooglePaymentButtonClicked() {
  const paymentDataRequest = getGooglePaymentDataRequest();
  paymentDataRequest.transactionInfo = getGoogleTransactionInfo();

  const paymentsClient = getGooglePaymentsClient();
  paymentsClient.loadPaymentData(paymentDataRequest);
}

let attempts = 0;
/**
 * Process payment data returned by the Google Pay API
 *
 * @param {object} paymentData response from Google Pay API after user approves payment
 * @see {@link https://developers.google.com/pay/api/web/reference/response-objects#PaymentData|PaymentData object reference}
*/
function processPayment(paymentData) {
  return new Promise(function(resolve, reject) {
    setTimeout(function() {
      // @todo pass payment token to your gateway to process payment
      paymentToken = paymentData.paymentMethodData.tokenizationData.token;

      if (attempts++ % 2 == 0) {
        reject(new Error('Every other attempt fails, next one should succeed'));      
      } else {
        resolve({});      
      }
    }, 500);
  });
}

</script>
<style type="text/css">

 
  body:before {
  content: "";
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  z-index: -1;
  opacity: 0.3;
  background-image: url("https://d22109rw628vry.cloudfront.net/blog/articles/TCXVP8yGG5.jpg");
  background-repeat: repeat;
}

  .ticket-card {
      background-image: url("logo.png");

  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  height: 350px;
  justify-content: space-between;
  margin: 20px auto;
  max-width: 400px;
  overflow: hidden;
  padding: 20px;
    position: relative;
  width: 400px;
  height: 270px;
  margin: 50px auto;
  background-color: #fff;

}

.ticket-header {
  text-align: center;
}

.ticket-header {
  background-color: black;
  color: #fff;
  padding: 10px 20px;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
}

.ticket-header h2 {
  margin: 0;
  font-size: 24px;
  font-weight: bold;
  text-transform: uppercase;
}


.ticket-header h2 {
  color: whitesmoke;
  font-size: 28px;
  font-weight: bold;
  margin: 0;
  text-transform: uppercase;
}

/*.ticket-content {
  display: flex;
  justify-content: space-between;

}*/

.ticket-info {
  flex-basis: 60%;
}

.ticket-info p {
  color: #555;
  font-size: 16px;
  margin: 0 0 10px;
}

.ticket-info p strong {
  font-weight: bold;
}

.ticket-barcode {
  flex-basis: 30%;
  text-align: right;
}

.ticket-barcode img {
  height: 80px;
}

/*.ticket-footer {
  background-image: url(../lohot.png);
  background-position: center center;
  background-repeat: no-repeat;
  background-size: 70%;
  height: 150px;
  text-align: center;
  position: relative;
}

.ticket-footer p {
  color: rgba(0, 0, 0, 0.4);
  font-size: 14px;
  margin: 0;
  padding-top: 10px;
}*/

</style>


<div id="myModal" class="ticket-card">
  <div class="ticket-header">
    <span style="font-weight:bold;" class="close">&times;</span>
    <h2>USER PASS</h2>
  </div>
  <div id="ticket-content" class="ticket-content">

    <div class="ticket-info">
       <p id="User">Passenger Name :<b id="name" > </b></p>
                <p>Adhar ID          : <b id="adhar-b" > </b> </p>

      <p>Source          : <b id="frombox" > </b> </p>
      <p>Destination      :   <b id="to" > </b> </p>
      <p>Mail Id :  <b id="mailbox" > </b> </p>
      <!-- <p>Journey Date       : <b id="time" > </b> </p> -->
            <p>Price         : <b id="price-b" > </b> </p>
     
     <!--  <p>Type             :  <b id="type" > Prime</b> </p>
       <p>Vehicle Preferred :  <b id="vehicle-pref" > Auto</b> </p>
      <p>Hotel Subscription :  <b id="hotel-subs" > Deluxe</b> </p> -->
    </div>
    <div style="display: flex;" class="ticket-barcode">
      <img  style="position: relative;margin-left: -10px;" src="https://media.istockphoto.com/id/1196802224/vector/hotel-on-little-island-in-cartoon-style.jpg?s=1024x1024&w=is&k=20&c=DNObdtLZfjrxPgPKj9tlfv8OriaqmG9Q2iUXR_7PnT4=">

            <img style="position: relative;margin-left: 150px;" src="qr-code.png" alt="Barcode Image">


    </div>
  </div>
  <div class="ticket-footer">
    <!-- <button class="btn btn-success" onclick="generatePDF()">Generate PDF</button> -->

    <!-- <p>Watermark Image</p> -->
  </div>
</div>



<script type="text/javascript">
   function addScript(url) {
     var script = document.createElement('script');
     script.type = 'application/javascript';
     script.src = url;
     document.head.appendChild(script);
 }
 addScript('https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js');


</script>
<script>
  function generatePDF() {
   var element = document.getElementById('ticket-content');
html2pdf(element);

}


</script>

<script type="text/javascript">
  const modal = document.getElementById("myModal");
const btn = document.getElementById("container");
const closeBtn = document.querySelector(".close");

btn.addEventListener("click", function() {
  modal.classList.add("show");
});

closeBtn.addEventListener("click", function() {
  modal.classList.remove("show");
});


</script>
<style type="text/css">

  .ticket-card {
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  height: 350px;
  justify-content: space-between;
  margin: 20px auto;
  max-width: 400px;
  overflow: hidden;
  padding: 20px;
    position: relative;
  width: 400px;
  height: 270px;
  margin: 50px auto;
  background-color: #fff;

}

  .ticket-card {
  display: none;
/*  position: fixed;*/
  z-index: 1;
/*  left: 0;
  top: 0;
*/  width: 100%;
  height: 100%;
  overflow: auto;
/*  background-color: rgba(0,0,0,0.4);*/
}



.ticket-header{
/*  background-color: #fefefe;*/
  margin: 15% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}

.show {
  display: block;
}

</style>

<!-- <p id="name"></p>
<p id="age"></p>
<p id="city"></p>

<p id="type"></p>

<p id="vechicleid"></p>
 --><!-- <input type="number" id="input-box"> -->


<!-- JavaScript code to retrieve and display the first row values -->
<script>
 var firebaseConfig ={
    apiKey: "AIzaSyAi9tBGcAb65ALUMf8rx3F8hC_-Cb9ZBRw",
    authDomain: "hotel-multi.firebaseapp.com",
    databaseURL: "https://hotel-multi-default-rtdb.firebaseio.com",
    projectId: "hotel-multi",
    storageBucket: "hotel-multi.appspot.com",
    messagingSenderId: "663745625531",
    appId: "1:663745625531:web:1ada8df5190b0a948f989e"
  };
firebase.initializeApp(firebaseConfig);
var database = firebase.database();
  var dataRef = database.ref('hotel'); // Replace 'data' with your database reference

  dataRef.orderByKey().limitToFirst(1).once('value', function(snapshot) {
    snapshot.forEach(function(childSnapshot) {
      var data = childSnapshot.val();
      // document.getElementById('date').innerHTML =  data.checkin;
      // document.getElementById('age').innerHTML = "Age: " + data.checkout;
      // document.getElementById('hotel-subs').innerHTML = "City: " + data.dropdown3;
    });
  });

  var dataRef1 = database.ref('cab'); // Replace 'data' with your database reference

  dataRef1.orderByKey().limitToFirst(1).once('value', function(snapshot1) {
    snapshot1.forEach(function(childSnapshot1) {
      var data1 = childSnapshot1.val();
      // document.getElementById('type').innerHTML = data1.type;
      // document.getElementById('vehicle-pref').innerHTML = data1.vechicleid;
    });
  });


</script>


<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-analytics.js"></script>

<script>
  
  var firebaseConfig ={
    apiKey: "AIzaSyAi9tBGcAb65ALUMf8rx3F8hC_-Cb9ZBRw",
    authDomain: "hotel-multi.firebaseapp.com",
    databaseURL: "https://hotel-multi-default-rtdb.firebaseio.com",
    projectId: "hotel-multi",
    storageBucket: "hotel-multi.appspot.com",
    messagingSenderId: "663745625531",
    appId: "1:663745625531:web:1ada8df5190b0a948f989e"
  };
firebase.initializeApp(firebaseConfig);
var database = firebase.database();

database.ref("users").on("value", function(snapshot) {
  snapshot.forEach(function(childSnapshot) {
    var childData = childSnapshot.val();
    // console.log(childData);
    const table = document.getElementById("UserDetails");
  

    // Add the data to your table using jQuery
    $("#UserDetails").append("<tr><td>" + childData.name + "</td><td>" + childData.email + "</td><td>" + childData.adhar + "</td><td>" + childData.phone+ "</td><td>" + childData.passenger + "</td><td>" + childData.price  + "</td><td>" + childData.dropdown1 + "</td><td>" + childData.dropdown2 + "</td><td>" + childData.dropdown3 +"</tr></td>");
  });
});



database.ref("hotel").on("value", function(snapshot1) {
  snapshot1.forEach(function(childSnapshot1) {
    var childData1 = childSnapshot1.val();
    console.log(childData1);

      $("#HotelDetails").append("<tr><td>" + childData1.checkin +"</td><td>" + childData1.checkout + "</td><td>" + childData1.dropdown3 + "</tr></td>");

  });
});



database.ref("cab").on("value", function(snapshot2) {
  snapshot2.forEach(function(childSnapshot2) {
    var childData2 = childSnapshot2.val();
     $("#CabDetails").append("<tr><td>" + childData2.type + "</td><td>" + childData2.vechicleid + "</tr></td>");
  });
});








function fetchData()
{


  const rowIndex = document.getElementById("rowIndex").value;
  const table = document.getElementById("UserDetails");
  const name = table.rows[rowIndex].cells[0].innerHTML;
  const email = table.rows[rowIndex].cells[1].innerHTML;
  const adhar = table.rows[rowIndex].cells[2].innerHTML;
  const phone = table.rows[rowIndex].cells[3].innerHTML;
  const dropdown1 = table.rows[rowIndex].cells[4].innerHTML;
  const dropdown2 = table.rows[rowIndex].cells[5].innerHTML;
  const dropdown3 = table.rows[rowIndex].cells[6].innerHTML;
   const passenger = table.rows[rowIndex].cells[7].innerHTML;
   const price = table.rows[rowIndex].cells[8].innerHTML;




const namebox = document.getElementById("name");
namebox.innerHTML = `${name}`;
console.log(namebox);

const adharbox = document.getElementById("adhar-b");
adharbox.innerHTML = `${adhar}`;
console.log(adharbox);

const mai= document.getElementById("mailbox");
mai.innerHTML = `${email}`;

const pricebox = document.getElementById("price-b");
pricebox.innerHTML = `${dropdown2}`;
console.log(pricebox);

const frombox = document.getElementById("frombox");
frombox.innerHTML = `${dropdown3}`;
console.log(frombox);

const to = document.getElementById("to");
to.innerHTML = `${passenger}`;
console.log(namebox);

const seats = document.getElementById("seats");
seats.innerHTML = `${dropdown1}`;
console.log(namebox);

// const namebox = document.getElementById("name");
// namebox.innerHTML = `${date}`;
// console.log(namebox);

const time = document.getElementById("time");
time.innerHTML = `${price}`;
console.log(time);
 


  // const output = document.getElementById("output");
  // output.innerHTML = `Name: ${name}, Mail: ${email}, Adhar: ${adhar}, MobileNumber: ${phone}, Source: ${dropdown1}, Destination: ${dropdown2}, Time: ${dropdown3},Total Passengers: ${passenger}, Total Cost: ${price}`;




}



</script>
</body>
</html>